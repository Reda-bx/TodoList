<ion-view view-title="TodoList">
  <ion-content>
    <div ng-controller="myStuff as todoList">
      <div id="filter" class="myStuff" ng-init="selectedTab = 'all'">
        <h4 ng-class="{'active':selectedTab === 'all'}" ng-click="filters.done = ''; selectedTab = 'all'" class="padding-vertical">All <span>( {{todoList.todos.length}} )</span></h4>

        <h4 ng-class="{'active':selectedTab === 'active'}" ng-click="filters.done = 0; selectedTab = 'active'" class="padding-vertical">Active <span>( {{todoList.remaining()}} )</span></h4>

        <h4 ng-class="{'active':selectedTab === 'finished'}" ng-click="filters.done = 1; selectedTab = 'finished'" class="padding-vertical">Finished <span>( {{todoList.todos.length - todoList.remaining()}} )</span></h4>
      </div>

      <form ng-submit="todoList.addTodo()">
        <label class="item item-input">
          <i class="icon ion-quote placeholder-icon"></i>
          <input ng-model="todoList.todoText" type="text" placeholder="What shit needs to get done ?">
        </label>
      </form>
      <ion-list>
        <ion-checkbox ng-change="todoList.onChange(todo.id)" ng-repeat="todo in todoList.todos | filter:filters" ng-model="todo.done" class="done-{{todo.done}}">
          <div class="text">{{todo.description}} {{todo.done}}</div>
          <!-- TODO:  check ng-if="!todo.done" later -->
          <div class="time">
            <i class="ion-clock"></i>
            in {{todo.time}} <!-- TODO: GET rid of it asap -->
          </div>
        </ion-checkbox>
      </ion-list>
    </div>
  </ion-content>
</ion-view>
